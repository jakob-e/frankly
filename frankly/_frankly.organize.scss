//  ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท
//
//  ๐  Organize
//  Functions and mixins to help organize css output 
//
//  ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท



//  ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท
//    
//  ๐  Extends
//
//  ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท
//  โช extendable
@mixin extendable($key, $extend: true) {
    //  create global list to track extends if not defined
    //  create a root placeholder if it does not exist 
    //  extend or render content    
    @if not global-variable-exists('โ๏ธ--extendable-list'){ $โ๏ธ--extendable-list:() !global; } 
    @if $extend and not index($โ๏ธ--extendable-list, $key) {
        $โ๏ธ--extendable-list: append($โ๏ธ--extendable-list, $key) !global;
        @at-root { %#{$key}{@content;} }
    }
    @if $extend { @extend %#{$key}; }
    @else { @content; }
}

//  ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท
//
//  ๐  Context 
//
//  TODO โ handle context values in context function
//
//  @mixin media($size) {
//      @include context(media, $size) { @content; }
//  }
//
//  
//  @mixin component {
//      @include media(small) {
//          size: context-size();  // 14px    
//      }
//      @include media(medium) {
//          size: context-size();  // 16px
//      }
//      @include media(large) {
//          size: context-size();  // 18px
//      }
//  }
//
//  when called inside a media context the context 
//  @function context-size {
//      @return map-get((
//          small : 14px,
//          medium: 16px,
//          large : 16px
//      ), context(media) or 16px);  
//  }
//
//  ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท

//  โช context mixin
// 	mixin to create a context visible to passed content 
//
//
@mixin context($key, $value: true) {
    //  create global map to track context if not defined
    //  create context with optional init value if it does not exist  
    //  render content 
    //  nullify context upon exit 
    @if not global-variable-exists('โ๏ธ--context-map'){ $โ๏ธ--context-map:() !global; }     
  	@if not context($key){
      	$โ๏ธ--context-map: map-merge($โ๏ธ--context-map, ($key: $value)) !global;
      	@content;
      	$โ๏ธ--context-map: map-remove($โ๏ธ--context-map, $key) !global;
  	}
}

//  โช context function
// 	function to get the current context 
@function context($key: null){ 
  	@return if($key, map-get($โ๏ธ--context-map, $key), $โ๏ธ--context-map); 
}

